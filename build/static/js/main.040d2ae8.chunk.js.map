{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/person.js","App.js","index.js"],"names":["Filter","filter","filteredPerson","handleFilter","className","onChange","map","person","name","number","PersonForm","newName","handleNewName","newNumber","handleNewNumber","handleSubmit","onSubmit","value","type","Persons","persons","handleRemove","onClick","id","Notification","message","baseURL","axios","get","then","response","data","newPerson","post","newObject","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","setFilteredPerson","notification","setNotification","useEffect","personService","initList","error","e","target","preventDefault","pers","find","p","changedPers","some","console","log","window","confirm","newEntry","updatedArray","setTimeout","status","newList","concat","alert","del","per","catch","filtered","toLowerCase","includes","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.040d2ae8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filter,filteredPerson, handleFilter}) =>{\n  return(\n  <div className='search-box'>\n    <div> <h2>Find:</h2> <input onChange={handleFilter}/> </div>\n    <div className='search-result'>{filter === '' ? '': \n     filteredPerson.map(person => \n     <p key={person.name}>{person.name} {person.number} </p>)}</div>\n</div>\n)\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({newName, handleNewName, newNumber, handleNewNumber, handleSubmit}) =>{\n\n\n  return(\n    <div className='add-form'>\n      <form onSubmit={handleSubmit}>\n        <div>\n          Name: <input value={newName} onChange={handleNewName}/>\n        </div>\n        <div>\n          Number: <input value={newNumber} onChange={handleNewNumber}/>\n        </div>\n        <div>\n          <button type='submit'>add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Persons = ({persons, handleRemove}) => {\n  return (\n    <ul>\n      {persons == null ?'': \n      persons.map((person)=> <span key = {person.name}>\n        <li>\n          <div className=\"Info\">\n            <h2>{person.name}</h2> \n            <h3>{person.number}</h3>\n          </div>\n          <button key = {person.id} onClick = {() =>   handleRemove(person.name,person.id)}>Delete</button>\n        </li></span>)}\n      \n    </ul>\n  )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({message, className}) => {\n\n    if(message == null)return null\n\n    \nreturn(\n    <div className = {className}>\n        {message}\n    </div>\n)\n\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseURL = 'api/persons'\n\nconst getAll = () =>{\n    const request = axios.get(baseURL)\n\n    return request.then(response => response.data)\n}\n\nconst getPerson = (id) =>{\n    const request = axios.get(`${baseURL}/${Number(id)}`)\n}\n\nconst create = (newPerson) =>{\n    const request = axios.post(baseURL, newPerson)\n\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseURL}/${id}`, newObject)\n\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseURL}/${id}`)\n\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, update, remove}","import React, {useState, useEffect} from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport './index.css'\nimport axios from 'axios'\nimport personService from './services/person'\nimport { __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED } from 'react'\nimport './App.css'\n\nconst App = () => {\n\n  //intitialize the state\n    const [persons, setPersons] = useState([])\n    const[newName, setNewName] = useState('add a new name')\n    const[newNumber, setNewNumber] = useState('add a phone number')\n    const [filter, setFilter] = useState('')\n    const [filteredPerson, setFilteredPerson] = useState('')\n    const [notification, setNotification] = useState('')\n    \n\n    //get data from the server\n    try{\n      useEffect(() => {\n        personService.getAll().then( initList => setPersons(initList))\n    }, [])\n  }catch(error){\n    // console.log(error)\n  }\n\n\n\n  /***************||||***************/\n  //will handle adding and updating entries\n  const handleSubmit = (e)=>{\n    e.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    //if already exists, grab the person object\n    const pers = persons.find(p => p.name === newName)\n    //change number if different from saved\n    const changedPers = {...pers, number: newNumber}\n\n    if(persons.some((person) => person.name === newName)){\n\n      console.log(persons.filter(person => person.name === newName));\n      \n      //ask the user if they wish to update the current contact\n      if(window.confirm(`Do you want to update the number for ${newName}`)=== true){\n        personService.update(pers.id, changedPers).then(newEntry => {\n          let updatedArray = persons.map(person => person.name === newName? newEntry: person)\n          console.log('updating person')\n        setPersons(updatedArray)\n        })\n\n        //set message on success\n        setNotification({message: `Entry for ${newName} has been updated`})\n        //clear message after some time\n        setTimeout(() => {\n          setNotification({name:null, status: 'neutral'})\n        }, 5000)\n\n        setNewName('')\n        setNewNumber('')\n        return\n      }\n      else return;\n  \n    }\n\n    if(newName === ''){ alert('Please type a name')\n        return\n    }\n\n    if(newNumber === ''){\n      alert('Please type a number')\n      return\n    }\n\n    //add the new person to the server\n    personService.create(newPerson).then(newList => setPersons(persons.concat(newList)))\n    //set message on success, then clear after some time\n    setNotification({message: `${newName} has been added`})\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n    setNewName('')\n    setNewNumber('')\n\n  }\n\n  /***************||||***************/\n  //remove a person from the list\n  const handleRemove = (name, id) => {\n\n   if(window.confirm(`Delete phone number for ${name}?`) === true) \n    personService.remove(id).then(del => {\n      let updatedArray = persons.filter(per => per.id !== id)\n      setPersons(updatedArray)\n    }) \n    .catch(error => {\n      //if the user does not exist, display an error\n      setNotification({error: `\"${name}\" has already been removed from the server`})\n\n      //update the list so it doesnt show the already removed person\n      setPersons(persons.filter(person => person.name !== name))\n\n      //clear the message after some time\n      setTimeout(() => {\n        setNotification(null)\n      }, 5000)\n    })\n    \n  }\n\n\n\n  //functions for dealing with the input fields. \n  const handleNewName = (e) =>{\n    // console.log(e.target.value)\n    setNewName(e.target.value)\n  }\n\n  const handleNewNumber = (e) =>{\n    // console.log(e.target.value)\n    setNewNumber(e.target.value)\n  }\n\n  const handleFilter =(e) =>{\n    setFilter(e.target.value)\n\n    //.includes checks to see if an array has the string\n    const filtered= persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n    setFilteredPerson(filtered)\n\n    // console.log(filtered);\n\n\n  }\n\n  return(\n    <div>\n      <h1>Phonebook</h1>\n        \n        <Notification message={notification ? notification.message? notification.message: notification.error:null} \n                      className={notification? notification.message? 'success':'error':null} />\n        <div className=\"add\">\n          <h2>Add someone new</h2>\n          <PersonForm newName = {newName} handleNewName={handleNewName} newNumber={newNumber} handleNewNumber={handleNewNumber} handleSubmit={handleSubmit}/>\n        </div>\n     \n     \n      <div className=\"number-list\">\n          <h2>Numbers</h2>\n          <Persons persons={persons} handleRemove = {handleRemove} />\n        </div>\n      \n      <div className=\"search\">\n          \n          <Filter filter={filter} filteredPerson={filteredPerson} handleFilter={handleFilter} />\n        </div>\n    </div>\n\n  )\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}