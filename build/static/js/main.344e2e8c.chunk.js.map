{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/person.js","App.js","index.js"],"names":["Filter","filter","filteredPerson","handleFilter","onChange","map","person","name","number","PersonForm","newName","handleNewName","newNumber","handleNewNumber","handleSubmit","onSubmit","value","type","Persons","persons","handleRemove","onClick","id","Notification","message","className","baseURL","axios","get","then","response","data","newPerson","post","newObject","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","setFilteredPerson","notification","setNotification","useEffect","personService","initList","error","e","target","filtered","toLowerCase","includes","console","log","preventDefault","pers","find","p","changedPers","some","window","confirm","newEntry","setTimeout","status","newList","concat","alert","del","per","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.344e2e8c.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filter,filteredPerson, handleFilter}) =>{\n  return(\n  <div>\n    <div>Find: <input onChange={handleFilter}/> </div>\n    <div>{filter === '' ? '': filteredPerson.map(person => <p key={person.name}>{person.name} {person.number} </p>)}</div>\n</div>\n)\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({newName, handleNewName, newNumber, handleNewNumber, handleSubmit}) =>{\n\n\n  return(\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          name: <input value={newName} onChange={handleNewName}/>\n        </div>\n        <div>\n          Number: <input value={newNumber} onChange={handleNewNumber}/>\n        </div>\n        <div>\n          <button type='submit'>add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Persons = ({persons, handleRemove}) => {\n  return (\n    <ul>\n      {persons.map((person)=> <span key = {person.name}><li>{person.name} {person.number}</li><button key = {person.id} onClick = {() =>   handleRemove(person.name,person.id)}>Delete</button></span>)}\n      \n    </ul>\n  )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({message, className}) => {\n\n    if(message == null)return null\n\n    \nreturn(\n    <div className = {className}>\n        {message}\n    </div>\n)\n\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseURL = 'api/persons'\n\nconst getAll = () =>{\n    const request = axios.get(baseURL)\n\n    return request.then(response => response.data)\n}\n\nconst create = (newPerson) =>{\n    const request = axios.post(baseURL, newPerson)\n\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseURL}/${id}`, newObject)\n\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseURL}/${id}`)\n\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, update, remove}","import React, {useState, useEffect} from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport './index.css'\nimport axios from 'axios'\nimport personService from './services/person'\nimport { __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED } from 'react'\n\nconst App = () => {\n\n  //intitialize the state\n    const [persons, setPersons] = useState([])\n    const[newName, setNewName] = useState('add a new name')\n    const[newNumber, setNewNumber] = useState('add a phone number')\n    const [filter, setFilter] = useState('')\n    const [filteredPerson, setFilteredPerson] = useState('')\n    const [notification, setNotification] = useState('')\n\n    //get data from the server\n    useEffect(() => {\n      personService.getAll().then( initList => setPersons(initList))\n    }, [])\n\n\n\n\n  //will handle adding and updating entries\n  const handleSubmit = (e)=>{\n    e.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    //if already exists, grab the person object\n    const pers = persons.find(p => p.name === newName)\n    //change number if different from saved\n    const changedPers = {...pers, number: newNumber}\n\n    if(persons.some((person) => person.name === newName)){\n\n      console.log(persons.filter(person => person.name === newName));\n      \n      //ask the user if they wish to update the current contact\n      if(window.confirm(`Do you want to update the number for ${newName}`)=== true){\n        personService.update(pers.id, changedPers).then(newEntry => {\n        setPersons(persons.map(person => person.name !== newName ? person: newEntry))\n        })\n\n        //set message on success\n        setNotification({message: `Entry for ${newName} has been updated`})\n        //clear message after some time\n        setTimeout(() => {\n          setNotification({name:null, status: 'neutral'})\n        }, 5000)\n\n        setNewName('')\n        setNewNumber('')\n        return\n      }\n      else return;\n  \n    }\n\n    if(newName === ''){ alert('Please type a name')\n        return\n    }\n\n    if(newNumber === ''){\n      alert('Please type a number')\n      return\n    }\n\n    //add the new person to the server\n    personService.create(newPerson).then(newList => setPersons(persons.concat(newList)))\n    //set message on success, then clear after some time\n    setNotification({message: `${newName} has been added`})\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n    setNewName('')\n    setNewNumber('')\n\n  }\n\n  const handleRemove = (name, id) => {\n\n   if(window.confirm(`Delete phone number for ${name}?`) === true) \n    personService.remove(id).then(del => {\n      setPersons(persons.filter(per => per.id !== id))\n    }) \n    .catch(error => {\n      //if the user does not exist, display an error\n      setNotification({error: `\"${name}\" has already been removed from the server`})\n\n      //update the list so it doesnt show the already removed person\n      setPersons(persons.filter(person => person.name !== name))\n\n      //clear the message after some time\n      setTimeout(() => {\n        setNotification(null)\n      }, 5000)\n    })\n    \n  }\n\n\n\n  //functions for dealing with the input fields. \n  const handleNewName = (e) =>{\n    console.log(e.target.value)\n    setNewName(e.target.value)\n  }\n\n  const handleNewNumber = (e) =>{\n    console.log(e.target.value)\n    setNewNumber(e.target.value)\n  }\n\n  const handleFilter =(e) =>{\n    setFilter(e.target.value)\n\n    //.includes checks to see if an array has the string\n    const filtered= persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n    setFilteredPerson(filtered)\n\n    // console.log(filtered);\n\n\n  }\n\n  return(\n    <div>\n      <h2>Phonebook</h2>\n      \n      <Notification message={notification ? notification.message? notification.message: notification.error:null} \n                    className={notification? notification.message? 'success':'error':null} />\n    <Filter filter={filter} filteredPerson={filteredPerson} handleFilter={handleFilter} />\n    <h3>Add someone new</h3>\n    <PersonForm newName = {newName} handleNewName={handleNewName} newNumber={newNumber} handleNewNumber={handleNewNumber} handleSubmit={handleSubmit}/>\n    <h2>Numbers</h2>\n    <Persons persons={persons} handleRemove = {handleRemove} />\n\n    </div>\n\n  )\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}